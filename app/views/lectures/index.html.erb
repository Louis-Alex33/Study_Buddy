<div class="container my-5">
  <!-- Header Section -->
  <div style="background: linear-gradient(135deg, #1351AA 0%, #1a66cc 100%); padding: 50px 40px; border-radius: 30px; margin-bottom: 40px; box-shadow: 0 8px 25px rgba(19, 81, 170, 0.25); text-align: center; position: relative; overflow: hidden;">
    <div style="position: absolute; top: -50px; right: -50px; width: 200px; height: 200px; background: rgba(255,255,255,0.1); border-radius: 50%;"></div>
    <div style="position: absolute; bottom: -30px; left: -30px; width: 150px; height: 150px; background: rgba(255,255,255,0.08); border-radius: 50%;"></div>
    <div style="position: relative; z-index: 1;">
      <h1 style="color: white; margin: 0 0 15px 0; font-size: 42px; font-weight: 800;">Mes Lectures</h1>
      <p style="color: rgba(255,255,255,0.9); font-size: 18px; margin: 0;">Toutes tes lectures en un seul endroit</p>
    </div>
  </div>

  <div class="filter_button_card">
    <% if @lectures.any? %>
      <%= link_to "Toutes", lectures_path, class: "filter_button #{params[:query].blank? ? 'active' : ''}" %>
      <% @categories.each do |category| %>
        <%= link_to category.title, lectures_path(query: category.title), class: "filter_button #{params[:query] == category.title ? 'active' : ''}" %>
      <% end %>
  </div>
<br>
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 25px;">
      <% @lectures.each do |lecture| %>
          <!-- Category Badge -->
        <div style="background: white; border-radius: 25px; padding: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); transition: all 0.3s; position: relative; overflow: hidden; border: 2px solid transparent;">
          <div style="position: absolute; top: 20px; right: 20px;">
            <span style="display: inline-block; padding: 6px 16px; background: linear-gradient(135deg, #1351AA 0%, #1a66cc 100%); color: white; border-radius: 20px; font-size: 11px; font-weight: 700; letter-spacing: 0.5px; text-transform: uppercase;">
              <%= lecture.category.title %>
            </span>
          </div>

          <!-- Title -->
          <h3 style="color: #1351AA; font-weight: 700; font-size: 22px; margin: 0 0 12px 0; padding-right: 80px; line-height: 1.3;">
            <%= lecture.title %>
          </h3>

          <!-- Resume -->
          <p style="color: #666; font-size: 14px; line-height: 1.6; margin: 0 0 20px 0; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden;">
            <%= lecture.resume %>
          </p>

          <!-- Stats -->
          <div style="display: flex; gap: 20px; margin-bottom: 25px; padding: 15px; background: #fafafa; border-radius: 15px;">
            <div style="flex: 1; text-align: center;">
              <div style="font-size: 24px; font-weight: 700; color: #1351AA; margin-bottom: 4px;">
                <%= lecture.flashcards.count %>
              </div>
              <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600;">
                Flashcards
              </div>
            </div>
            <div style="width: 1px; background: #E3E2DE;"></div>
            <div style="flex: 1; text-align: center;">
              <div style="font-size: 24px; font-weight: 700; color: #1351AA; margin-bottom: 4px;">
                <%= lecture.messages.count %>
              </div>
              <div style="font-size: 11px; color: #666; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600;">
                Messages
              </div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div style="display: flex; gap: 10px;">
            <%= link_to lecture_path(lecture), style: "display: flex; align-items: center; justify-content: center; gap: 10px; flex: 1; padding: 14px; background: linear-gradient(135deg, #1351AA 0%, #1a66cc 100%); color: white; border-radius: 18px; text-decoration: none; font-weight: 600; font-size: 15px; box-shadow: 0 3px 12px rgba(19, 81, 170, 0.3); transition: all 0.3s;" do %>
              <span>Voir la lecture</span>
              <span style="font-size: 18px;">â†’</span>
            <% end %>
            <%= button_to lecture_path(lecture), method: :delete, data: { turbo_confirm: "ÃŠtes-vous sÃ»r de vouloir supprimer cette lecture ?" }, style: "display: flex; align-items: center; justify-content: center; padding: 14px 18px; background: linear-gradient(135deg, #dc3545 0%, #c82333 100%); color: white; border-radius: 18px; border: none; cursor: pointer; font-weight: 600; font-size: 15px; box-shadow: 0 3px 12px rgba(220, 53, 69, 0.3); transition: all 0.3s;" do %>
              <span style="font-size: 18px;">ğŸ—‘</span>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div style="text-align: center; padding: 100px 20px; background: white; border-radius: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
      <div style="font-size: 80px; margin-bottom: 25px; opacity: 0.2;">ğŸ“š</div>
      <h3 style="color: #333; font-size: 24px; font-weight: 700; margin: 0 0 15px 0;">Aucune lecture pour le moment</h3>
      <p style="color: #666; font-size: 16px; margin: 0 0 30px 0;">Commence par ajouter ta premiere lecture</p>
      <%= link_to root_path, style: "display: inline-flex; align-items: center; gap: 10px; padding: 16px 36px; background: linear-gradient(135deg, #1351AA 0%, #1a66cc 100%); color: white; border-radius: 20px; text-decoration: none; font-weight: 600; font-size: 16px; box-shadow: 0 4px 15px rgba(19, 81, 170, 0.3); transition: all 0.3s;" do %>
        <span>+</span>
        <span>Ajouter une lecture</span>
      <% end %>
    </div>
  <% end %>

  <!-- Back Button -->
  <div style="text-align: center; margin-top: 50px;">
    <%= link_to root_path, style: "display: inline-flex; align-items: center; gap: 10px; padding: 16px 36px; background: linear-gradient(135deg, #1351AA 0%, #1a66cc 100%); color: white; border-radius: 20px; text-decoration: none; font-weight: 600; font-size: 16px; box-shadow: 0 4px 15px rgba(19, 81, 170, 0.3); transition: all 0.3s;" do %>
      <span style="font-size: 20px;">â†</span>
      <span>Retour a l'accueil</span>
    <% end %>
  </div>
</div>
