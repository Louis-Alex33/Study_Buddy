<div class="text-center">
  <div class="position-relative d-inline-block">
    <%= image_tag("homepage_banner.jpg", height: 400, class: "img-fluid") %>
    <div class="position-absolute top-50 start-50 translate-middle" style="width: 45%;">
      <button type="button" class="btn btn-outline-light w-100 py-4 fs-2" data-bs-toggle="modal" data-bs-target="#uploadModal" style="background-color: transparent; border-width: 3px;">
        CREER UN NOUVEAU COURS
      </button>
    </div>
  </div>
</div>

<!-- Modal Bootstrap -->
<div class="modal fade" id="uploadModal" tabindex="-1" aria-labelledby="uploadModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="uploadModalLabel">Nouveau cours</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <%= simple_form_for @lecture, url: lectures_path do |f| %>
          <%= f.input :title, label: "Title" %>
          <%= f.input :file, as: :file, label: "Upload a file (PDF, image, or audio)" %>
          <%= f.association :category, collection: Category.all, label: "Category" %>
          <div class="d-grid mt-3">
            <%= f.button :submit, "Créer", class: "btn btn-primary" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>


<% if @categories&.any? %>
  <div class="container my-5">
    <h3 class="mb-4">Mes catégories</h3>
    <div class="d-flex flex-wrap gap-3">
      <% @categories.each do |category| %>
          <div class="category-card">
            <div class="category-card-icon">
              <i class="fas fa-folder"></i>
            </div>
            <div class="category-card-content">
              <h5 class="category-card-title"><%= category.title %></h5>
              <span class="category-card-count"><%= category.lectures.count %> lecture(s)</span>
            </div>
          </div>
      <% end %>
    </div>
  </div>
<% end %>
